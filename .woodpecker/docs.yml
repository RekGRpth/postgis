pipeline:
  prepare:
    image: docker.osgeo.org/postgis/build-test:trisquel3
    pull: true
    commands:
      - ./autogen.sh
      - mkdir -p build-docs && cd build-docs
      - ../configure --without-pg
      - make postgis_revision.h
  check-xml:
    image: docker.osgeo.org/postgis/build-test:trisquel3
    commands:
      - make -C build-docs/doc check
  build-html:
    image: docker.osgeo.org/postgis/build-test:trisquel3
    commands:
      - make -C build-docs/doc html
  build-cheatsheets:
    image: docker.osgeo.org/postgis/build-test:trisquel3
    commands:
      - make -C build-docs/doc/ cheatsheets
  build-chunked-html:
    image: docker.osgeo.org/postgis/build-test:trisquel3
    commands:
      - make -C build-docs/doc html
  build-pdf:
    image: docker.osgeo.org/postgis/build-test:trisquel3
    commands:
      - make -C build-docs/doc/ pdf
